
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" media="screen" href="../../css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="../../layui/css/layui.css">

    <title>jQuery animate滑动收缩展开时间轴大事记发展历程</title>


    <style>
        *{margin:0;padding:0;list-style-type:none;}
        a,img{border:0;}
        body{font:12px/180% Arial, Helvetica, sans-serif, "新宋体";}

        .demo{width:960px;margin:60px auto 0 auto;}
        /*history*/
        .history{background:url(images/line04.gif) repeat-y 187px 0;overflow:hidden;position:relative;}
        .history-date{overflow:hidden;position:relative;}
        .history-date h2{background:#fff url(images/icon06.gif) no-repeat 158px 0;height:59px;font-size:25px;font-family:微软雅黑;font-weight:normal;padding-left:45px;margin-bottom:74px; }
        .history-date h2.first{position:absolute;left:0;top:0;width:935px;z-index:99;}
        .history-date h2 a{color:black;display:inline-block;*display:inline;zoom:1;background:url(images/icon08.gif) no-repeat right 50%;padding-right:17px;margin:21px 97px 0 0;}
        .history-date h2 a:hover{text-decoration:none;}
        .history-date h2 img{vertical-align:-5px;}
        .history-date h2.date02{background:none;}
        .history-date ul li{background:url(images/icon07.gif) no-repeat 180px 0;padding-bottom:50px;zoom:1;}
        .history-date ul li.last{padding-bottom:0;}
        .history-date ul li:after{content:" ";display:block;height:0;clear:both;visibility:hidden;}
        .history-date ul li h3{float:left;width:168px;text-align:right;padding-right:19px;color:#c3c3c3;font:normal 18px/16px Arial;}
        .history-date ul li h3 span{display:block;color:#d0d0d0;font-size:12px;}
        .history-date ul li dl{float:left;padding-left:41px;margin-top:-5px;font-family:微软雅黑;}
        .history-date ul li dl dt{font:20px/22px 微软雅黑;color:#737373;}
        .history-date ul li dl dt span{display:block;color:#787878;font-size:12px;}
        .history-date ul li.green h3{color:#1db702;}
        .history-date ul li.green h3 span{color:#a8dda3;}
        .history-date ul li.green dl{margin-top:-8px;}
        .history-date ul li.green dl dt{font-size:30px;line-height:28px;}
        .history-date ul li.green dl dt a{display:inline-block;*display:inline;zoom:1;overflow:hidden;vertical-align:middle;margin-left:12px;}
        .history-date ul li.green dl dd{padding-top:20px;display:none;}
        .history-date ul li.green dl dd img{float:left;}
        .history-date ul li.green dl dd p{overflow:hidden;zoom:1;line-height:21px;color:#787878;}
        .history-date h2.first .more-history{font-size:16px;background:transparent;margin-left:30px;}
        .history-date h2.first .more-history:hover{text-decoration:underline;}
        *body .history-date ul li dl dt{_font-size:12px!important;_font-weight:bold;}
        *body .history-date ul li dl dt span{_font-weight:normal!important;}
        *body .history-date ul li.green dl dt a{_background:transparent!important;*background:transparent!important;*font-size:12px!important;_font-weight:normal!important;}

    </style>
</head>
<body>
<script src="../../js/constant.js"></script>
<script type="text/javascript" src="js/jquery-1.4.2.min.js"></script>
<script type="text/javascript" src="../../js/libs/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="../../js/jq.js"></script>
<script type="text/javascript" src="../../layui/layui.js"></script>
<script type="text/javascript" src="../../js/my/permission.js"></script>
<script type="text/javascript" src="../../js/common.js"></script>
<script type="text/javascript">
    var projectId = getUrlParam("id");

    $(function(){
        systole();

        getRecord();

    });

    function getRecord() {
        $.ajax({
            type : 'get',
            url : domainName + '/project-record/record/findPass/'+projectId,
            async : false,
            success : function(data) {

                var str = '';
                $(data).each(function () {

                    str +=  ' <li class="green">\n' +
                        '                    <h3>'+this.time+'<span>'+this.createUser+'</span></h3>\n' +
                        '                    <dl>\n' +
                        '                        <dt><a href="checking.html?id='+this.id+'&&projectId='+this.projectId+'&&return=2">'+this.title+'</a><span>'+this.state+'</span></dt>\n' +
                        '                    </dl>\n' +
                        '                </li>';

                });

                $("#record").append(str);
                $("#a").click();
                $("#a").click();



            }
        });
    }
    function unSub() {
        $(location).attr("href", "submit.html?id=" + projectId);
    }
    function check() {
        $(location).attr("href", "check.html?id=" + projectId);
    }
    /*$("#add_report").click(function () {

        $(location).attr("href", "add_implementLog.html?projectId=" + projectId);
    })*/

    function add() {
        $(location).attr("href", "add_implementLog.html?projectId=" + projectId);
    }
    function back() {
        $(location).attr("href", "../../list-layout.list.html" );
    }

    function systole(){
        if(!$(".history").length){
            return;
        }
        var $warpEle = $(".history-date"),
            $targetA = $warpEle.find("h2 a,ul li dl dt a"),
            parentH,
            eleTop = [];

        parentH = $warpEle.parent().height();
        $warpEle.parent().css({"height":59});

       /* setTimeout(function(){

            $warpEle.find("ul").children(":not('h2:first')").each(function(idx){
                eleTop.push($(this).position().top);
                $(this).css({"margin-top":-eleTop[idx]}).children().hide();
            }).animate({"margin-top":0}, 1600).children().fadeIn();

            $warpEle.parent().animate({"height":parentH}, 2600);

            $warpEle.find("ul").children(":not('h2:first')").addClass("bounceInDown").css({"-webkit-animation-duration":"2s","-webkit-animation-delay":"0","-webkit-animation-timing-function":"ease","-webkit-animation-fill-mode":"both"}).end().children("h2").css({"position":"relative"});

        }, 600);*/

        $targetA.click(function(){
            $(this).parent().css({"position":"relative"});
            $(this).parent().siblings().slideToggle();
            $warpEle.parent().removeAttr("style");
            return false;
        });
    };
</script>
<td align="right">
    <div class="form-actions">
        <div class="row" align="left">
            <div class="col-md-12">
                <a href="../list-layout/list.html" class="btn btn-primary">返回</a>
                <button class="btn btn-primary" type="submit" onclick="add()">
                    <i class="fa fa-save"></i> 添加
                </button>
                <button class="btn btn-primary" type="submit" onclick="unSub()">
                    <i class="fa fa-save"></i> 我的日志
                </button>
                <button class="btn btn-primary" type="submit" onclick="check()">
                    <i class="fa fa-save"></i> 审核
                </button>

            </div>
            <!--<div class="col-md-12">

                <button class="btn btn-primary" type="submit" onclick="add()">
                    <i class="fa fa-save"></i> 添加
                </button>
            </div>
            <div class="col-md-12">

                <button class="btn btn-primary" type="submit" onclick="unSub()">
                    <i class="fa fa-save"></i> 我的日志
                </button>
            </div>
            <div class="col-md-12">
                <button class="btn btn-primary" type="submit" onclick="check()">
                    <i class="fa fa-save"></i> 审核
                </button>
            </div>-->
        </div>
    </div>

</td>
<div class="demo" align="left" style="margin-top: 60px" >
    <div class="history">
        <div class="history-date">
            <ul id="record">
                <h2 class="first">
                    <a href="#nogo" id="a">实施日志</a><!--<img src="images/img05.gif" alt="360极速浏览器历程" />-->

                </h2>
                <!--<div id="record">
                </div>-->
                <!--<li class="green">
                    <h3>10.08<span>2012</span></h3>
                    <dl>
                        <dt>发布全新的极速浏览器6.0版本<span>升级极速内核到21.0；全新默认界面；新增小窗口播放功能</span></dt>
                    </dl>
                </li>
                <li>
                    <h3>07.02<span>2012</span></h3>
                    <dl>
                        <dt>升级极速内核到19.0<span>支持网络摄像头，浏览器可直接访问摄像头</span></dt>
                    </dl>
                </li>
                <li class="green">
                    <h3>06.27<span>2012</span></h3>
                    <dl>
                        <dt>发布国内首个HTML5实验室<span>大力推广HTML5</span></dt>
                    </dl>
                </li>
                <li>
                    <h3>06.15<span>2012</span></h3>
                    <dl>
                        <dt>新增了下载文件前扫描下载链接安全性的功能</dt>
                    </dl>
                </li>-->


            </ul>
        </div>
    </div>
</div>

</body>
</html>
